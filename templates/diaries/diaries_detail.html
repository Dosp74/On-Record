{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/diaries_detail.css' %}">
{% endblock %}

{% block content %}

<div class="background-a"></div>
<div class="diaries_detail">
  <div class="detail-container">
    <div class="detail-header">
      <h1 class="detail-title">
        <p>{{ diaries.title }}<p>
      </h1>
      <div class="detail-header-l">
        <p id="date">{{ diaries.date }}<p>
        <button class="public-btn" data-status="{{ diaries.disclosure.value }}">
          {% if diaries.disclosure.value == True %}
              전체공개
          {% else %}
              비공개
          {% endif %}
        </button>
      </div>
    </div>
    
    <div class="detail-content">
      <div class="detail-image">
        <h3>오늘의 사진</h3>
        {% if diaries.image %}
        <p>{{ diaries.image }}</p>
        {% else %}
        <p>📷 이미지 없음</p>
        {% endif %}
      </div>
      <div class="detail-text">
        <h3>오늘의 하루</h3>
        <div class="diary-metadata">
          <div class="weather">
            {% if diaries.weather == 'sunny' %}
                <p>날씨: ☀️</p>
            {% elif diaries.weather == 'cloudy' %}
                <p>날씨: ☁️</p>
            {% elif diaries.weather == 'rainy' %}
                <p>날씨: 🌧️</p>
            {% elif diaries.weather == 'snowy' %}
                <p>날씨: ❄️</p>
            {% else %}
                <p>🌍 날씨 정보 없음</p>
            {% endif %}
          </div>
          <div class="mood">
            {% if diaries.mood == 'happy' %}
                <p>기분: 😄</p>
            {% elif diaries.mood == 'sad' %}
                <p>기분: 😢</p>
            {% elif diaries.mood == 'angry' %}
                <p>기분: 😡</p>
            {% elif diaries.mood == 'funny' %}
                <p >기분: 🤣</p>
            {% elif diaries.mood == 'tired' %}
                <p>기분: 😪</p>
            {% else %}
                <p>🌍 기분 정보 없음</p>
            {% endif %}
          </div>
        </div>
        <p>{{ diaries.content }}</p>
      </div>
    </div>
  </div>
  <div class="bis">
    <i class="bi bi-heart-fill"></i>
    <div class="bis-r">
      <i class="bi bi-share-fill"></i>
      <form action="{% url 'diaries:update_diaries' diaries.id %}" enctype="multipart/form-data">
        {% csrf_token %}
        <button type="submit" class="bi bi-pencil-square"></button>
      </form>
      <form action="{% url 'diaries:delete_diaries' diaries.id %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <button type="submit" class="bi bi-trash3-fill"></button>
      </form>
    </div>
  </div>
  <p class="reply">
    {{reply.content}}
  </p>
</div>
{% endblock %}
